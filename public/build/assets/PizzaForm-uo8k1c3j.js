import{T as x,f as l,b as i,e as V,a,u as o,C as g,D as _,F as b,k as z,g as k,w as h,n as C,o as d,t as p,d as F}from"./app-BbmtW1sE.js";import{a as m,_ as n}from"./InputLabel-D0XdzCzm.js";import{_ as f}from"./TextInput-Cc_RDQWf.js";import{P as U}from"./PrimaryButton-Ci7amNuM.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const j={class:"p-6 lg:p-8 bg-white border-b border-gray-200"},q={class:"flex flex-col justify-center"},N={class:"mt-4"},P={class:"flex justify-around"},S={class:"mt-4"},B=["value"],D={class:"mt-4"},L=["value"],M={class:"mt-4"},R={class:"mt-4"},T={key:0,class:"mt-4 w-1/4"},$=["src"],A={class:"mt-4 flex items-center justify-end"},J={__name:"PizzaForm",props:{tamanos:{type:Array,required:!0},categorias:{type:Array,required:!0},pizza:{type:Object,required:!1}},setup(u){const r=u,e=x({nombre:"",precio:"",tamano_id:"0",categoria_id:"0",descripcion:"",foto:null,foto_preview:null}),v=r.pizza?"Editar pizza":"Registrar pizza";r.pizza&&(e.nombre=r.pizza.nombre,e.precio=r.pizza.precio,e.tamano_id=r.pizza.tamano_id,e.categoria_id=r.pizza.categoria_id,e.descripcion=r.pizza.descripcion,e.foto_preview=r.pizza.imagen_url);const y=c=>{e.foto=c.target.files[0],e.foto_preview=URL.createObjectURL(c.target.files[0])},w=()=>{e.precio=parseFloat(e.precio),r.pizza?e.put(route("pizzas.update",r.pizza.id)):e.post(route("pizzas.store"))};return(c,s)=>(d(),l("div",j,[s[8]||(s[8]=i("div",{class:"flex justify-between"},[i("h1",{class:"mt-3 text-2xl font-medium text-gray-900"}," Formulario de pizzas ")],-1)),i("div",q,[i("form",{onSubmit:V(w,["prevent"])},[i("div",null,[a(n,{for:"nombre",value:"Nombre"}),a(f,{id:"nombre",type:"text",class:"mt-1 block w-full",modelValue:o(e).nombre,"onUpdate:modelValue":s[0]||(s[0]=t=>o(e).nombre=t),required:"",autofocus:""},null,8,["modelValue"]),a(m,{class:"mt-2",message:o(e).errors.nombre},null,8,["message"])]),i("div",N,[a(n,{for:"precio",value:"Precio"}),a(f,{id:"precio",type:"text",class:"mt-1 block w-full",modelValue:o(e).precio,"onUpdate:modelValue":s[1]||(s[1]=t=>o(e).precio=t),modelModifiers:{number:!0},required:""},null,8,["modelValue"]),a(m,{class:"mt-2",message:o(e).errors.precio},null,8,["message"])]),i("div",P,[i("div",S,[a(n,{for:"tamano_id",value:"Tamaño"}),g(i("select",{name:"tamano_id",id:"tamano_id","onUpdate:modelValue":s[2]||(s[2]=t=>o(e).tamano_id=t),class:"rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[s[5]||(s[5]=i("option",{value:"0",disabled:"",selected:"",hidden:""}," Seleccione el tamaño ",-1)),(d(!0),l(b,null,z(u.tamanos,t=>(d(),l("option",{key:t.id,value:t.id},p(t.nombre),9,B))),128))],512),[[_,o(e).tamano_id,void 0,{number:!0}]]),a(m,{class:"mt-2",message:o(e).errors.tamano_id},null,8,["message"])]),i("div",D,[a(n,{for:"categoria_id",value:"Categoria"}),g(i("select",{name:"categoria_id",id:"categoria_id","onUpdate:modelValue":s[3]||(s[3]=t=>o(e).categoria_id=t),class:"rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[s[6]||(s[6]=i("option",{value:"0",disabled:"",selected:"",hidden:""}," Seleccione la categoria ",-1)),(d(!0),l(b,null,z(u.categorias,t=>(d(),l("option",{key:t.id,value:t.id},p(t.nombre),9,L))),128))],512),[[_,o(e).categoria_id,void 0,{number:!0}]]),a(m,{class:"mt-2",message:o(e).errors.categoria_id},null,8,["message"])])]),i("div",M,[a(n,{for:"descripcion",value:"Descripcion"}),a(f,{id:"descripcion",type:"text",class:"mt-1 block w-full",modelValue:o(e).descripcion,"onUpdate:modelValue":s[4]||(s[4]=t=>o(e).descripcion=t),required:""},null,8,["modelValue"]),a(m,{class:"mt-2",message:o(e).errors.descripcion},null,8,["message"])]),i("div",R,[a(n,{for:"foto",value:"Foto de la pizza"}),i("input",{id:"foto",type:"file",name:"foto",class:"mt-1 block w-full",accept:"image/*",onChange:y},null,32)]),o(e).foto_preview?(d(),l("div",T,[s[7]||(s[7]=i("p",null,"Preview de la imagen:",-1)),i("img",{width:"200",src:o(e).foto_preview},null,8,$)])):k("",!0),i("div",A,[a(U,{class:C(["ms-4",{"opacity-25":o(e).processing}]),disabled:o(e).processing},{default:h(()=>[F(p(o(v)),1)]),_:1},8,["class","disabled"])])],32)])]))}};export{J as default};
